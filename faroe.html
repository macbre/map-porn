<!DOCTYPE html> 
<html>
	<title>Faroe Islands - map</title>

	<!-- fonts -->
	<link href="https://fonts.googleapis.com/css2?family=Gudea:wght@400;700&family=Josefin+Sans:wght@100;600&family=Lora:ital,wght@1,400;1,600&display=swap" rel="stylesheet">

	<!-- leaflet -->
	<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"/>
	<script src="static/leaflet-providers.js"></script>
	<script src="static/L.Graticule.js"></script>

	<!-- our assets -->
	<link rel="stylesheet" href="static/map.css">
	<script src="static/map.js"></script>
	<script src="static/faroe.js"></script>

	<link rel="license" href="https://creativecommons.org/licenses/by/4.0/" />

	<body lang="en">
		<div id="wrapper">
			<section id="overlay">
				<h1 lang="en">Faroe Islands</h1>
				<h1 lang="pl">Wyspy Owcze</h1>

				<h2 lang="en">under construction / Ã­ gerÃ°</h2>
				<h2 lang="pl">w budowie</h2>

				<legend style="width: 41%">
					<!-- <img src="https://3.bp.blogspot.com/-d6oBGCensQ8/U2ADslYwc4I/AAAAAAAAIXM/SSR4NbDTxP8/s1600/IMG_0500.jpg"> -->
					<p lang="en">
						<!--The well developed Faroese road infrastructure is constantly being improved. New tunnels and roads are being built.
						<br><br>-->
						<strong>NÃ½ggir BorÃ°oyartunlarnir</strong> will replace two unlit single lane tunnels built in the late 60s.
						<br><br>
						<strong>Innkomuvegurin</strong>, a new bypass road between HvÃ­tanes and TÃ³rshavn (including a short tunnel) is expected to be ready in 2025.
						<br><br>
						Sandoy will soon become a part of the Faroese "mainland". The 11-km long underwater <strong>Sandoyartunnilin</strong> is to be completed by the end of 2023.
						Additionally, the narrow cliffside road between Dalur and HÃºsavÃ­k will be replaced by <strong>Dalstunnilin</strong>.
						<br><br>
						<strong>FÃ¡mjinstunnilin</strong> (to be completed in 2024) will connect Ã˜ravÃ­k with FÃ¡mjin, superseding the most windy Faroese road.
					</p>
					<p lang="pl" style="font-size: 1.6rem">
						Dwa nowe tunele <strong>NÃ½ggir BorÃ°oyartunlarnir</strong> zastÄ…piÄ… do 2025 roku stare, wÄ…skie, nieoÅ›wietlone przeprawy z lat 60-tych.
						<br><br>
						Nowa obwodnica TÃ³rshavn (<strong>Innkomuvegurin</strong>) poÅ‚Ä…czy HvÃ­tanes i tunel na Eysturoy z zachodniÄ… czÄ™Å›ciÄ… stolicy. W planach przedÅ‚uÅ¼enie do Hotelu FÃ¸royar.
						<br><br>
						Za sprawÄ… <strong>Sandoyartunnilin</strong> kolejna wyspa stanie siÄ™ czÄ™Å›ciÄ… farerskiego "mainlandu". Jedenastokilometrowy podwodny tunel poÅ‚Ä…czy Sandoy ze Streymoy.
						ZaÅ› <strong>Dalstunnilin</strong> ominie wÄ…skÄ…, wyciosanÄ… w klifie drogÄ™ miÄ™dzy Dalur a HÃºsavÃ­k.
						<br><br>
						<strong>FÃ¡mjinstunnilin</strong> zastÄ…pi natomiast krÄ™ty i najbardziej na archipelagu wietrzny odcinek drogi miÄ™dzy Ã˜ravÃ­k a FÃ¡mjin.
					</p>
					<ul>
						<!--<li><span class="marker black"></span><span lang="en">major towns</span><span lang="pl">gÅ‚Ã³wne miasta</span></li>-->
						<li><span class="marker blue" style="background: #762a83"></span>NÃ½ggir BorÃ°oyartunlarnir</li>
						<li><span class="marker blue" style="background: #a50026"></span>Innkomuvegurin</li>
						<li><span class="marker blue" style="background: #006837"></span>Sandoyartunnilin</li>
						<li><span class="marker blue" style="background: #8c510a"></span>Dalstunnilin</li>
						<li><span class="marker blue" style="background: #4393c3"></span>FÃ¡mjinstunnilin</li>
					</ul>
				</legend>

				<label id="atlantic-ocean">
					<span lang="en">Atlantic Ocean</span>
					<span lang="pl">Ocean Atlantycki</span>
				</label>

				<section id="small-map">

				</section>

				<!-- <label style="
				position: absolute;
				font-size: 12em;
				filter: grayscale(1);
				top: 1121px;
				left: 871px;
				transform: rotate(28deg);
				opacity: .8;
				">
					ğŸ‘
				</label> -->
			</section>

			<img id="logo" src="static/logo.png" />

			<div id="map"></div>
			<section class="info">
				<div>
					<p>
						<strong lang="en">Research</strong><strong lang="pl">Opracowanie</strong>: Maciej Brencz @ farerskiekadry.pl
					</p>
					<p>
						<strong lang="en">Data</strong><strong lang="pl">Dane</strong>: Landsverk, UmhvÃ¸rvisstovan<!--, Strandfaraskip Landsins, OpenStreetMaps-->.
					</p>
				</div>

				<div>
					<p>
						<strong lang="en">Maps rendered with</strong><strong lang="pl">Mapy</strong> Leaflet, Stamen.
					</p>
					<p lang="en">
						<strong>Licensed under</strong> Creative Commons Attribution.
					</p>
					<p lang="pl">
						<strong>Licencja</strong> Creative Commons Uznanie autorstwa.
					</p>
				</div>
			</section>
		</section>

		<script>
		(async() => {
			const gridsPerCity = {};

			await initMap(async (map) => {
				const geojson = await fetchGeoJSON('/geojson/us-vegir-us_vegir_loyvda_ferd_vegt-27-1.json');

				map.createPane('features');
				map.getPane('features').style.zIndex = 700;

				L.geoJSON(geojson, {
					pane: 'features',
					style: function(feature) {
						// return {
						// 	color: '#d73027',
						// 	weight: 5,
						// };

						const city = feature.properties.city;
						const defaultStyle = {weight: 5};
						console.log(city, feature);
						switch (city) {
							// https://colorbrewer2.org/#type=diverging&scheme=RdYlGn&n=11
							case 'HoyvÃ­k': case 'TÃ³rshavn':			return {color: "#a50026", ...defaultStyle};
							case 'Sandur': case 'KirkjubÃ¸ur':		return {color: "#006837", ...defaultStyle};
							case "Dalur": case 'HÃºsavÃ­k':			return {color: "#8c510a", ...defaultStyle};
							case "ÃrnafjÃ¸rÃ°ur": case "KlaksvÃ­k": case "Depil":
																	return {color: "#762a83", ...defaultStyle};
							case "Ã˜rÃ°avÃ­k":							return {color: "#4393c3", ...defaultStyle};

							default:
								console.log('Mapping missing for', city, feature)
						}
					}
				}).addTo(map);

				L.tooltip({pane: 'labels', direction: 'right'})
					.setLatLng( L.latLng(61.833611111111, -6.8169444444444) )
					.setContent('Sandur')
					.addTo(map);

				L.tooltip({pane: 'labels', direction: 'left'})
					.setLatLng( L.latLng(61.526388888889, -6.8769444444444) )
					.setContent('FÃ¡mjin')
					.addTo(map);

				L.tooltip({pane: 'labels', direction: 'right'})
					.setLatLng( L.latLng(62.3601, -6.5333) )
					.setContent('ViÃ°areiÃ°i')
					.addTo(map);

					L.tooltip({pane: 'labels', direction: 'right'})
					.setLatLng( L.latLng(61.7822, -6.6756) )
					.setContent('Dalur')
					.addTo(map);


				/**
				// green / blue / yellow
				await addGeoJSONLayer(map, '/geojson/us-rulluportur-rulluportur_alment-0-cattle_grid.json', 'dark-green', 'cattle grids', 'owcze bramki', (feature) => {
					const city = feature.properties.city;
					// console.log(city);

					if (typeof gridsPerCity[city] === 'undefined') gridsPerCity[city] = 0;
					gridsPerCity[city]++;
				});
				**/
			});

			// console.log(gridsPerCity);
		})();
		</script>

		<style>
			/**
			 * @see https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/conic-gradient
			 */
			.marker.red {
				background: conic-gradient(transparent 0, transparent 180deg, #d73027 180deg);
			}
			.marker.green { 
				background: conic-gradient(#1a9850 0, #1a9850 180deg, transparent 180deg);
			}
		</style>

	</body>
</html>